<ion-view view-title ="{{title}}"> <!--hide-nav-bar=true-->
  <ion-content ng-controller="NewPollCtrl">
  <!-- If there is not an active poll, show the new poll form -->
  <div ng-show="!pollAvailable">
    <form>
      <p class="forum-poll-form-label">Poll Question</p>
      <label class="item item-input">
        <input ng-model="newPoll.text" class="forum-poll-textarea" placeholder="Enter your poll here">
        </input>
        <input ng-model="newPoll.option1" class="forum-poll-textarea" placeholder="Option 1">
        </input>
        <input ng-model="newPoll.option2" class="forum-poll-textarea" placeholder="Option 2">
        </input>
        <input ng-model="newPoll.option3" class="forum-poll-textarea" placeholder="Option 3">
        </input>
        <input ng-model="newPoll.option4" class="forum-poll-textarea" placeholder="Option 4">
        </input>

      </label>

      <button ng-click="submitPoll()" type="button" class="button button-positive button-full">Submit Poll</button>
    </form>
  </div>
  <!-- If there is an active poll, show the current poll -->
  <div ng-show="pollAvailable">
    <h1>Poll in progress:</h1>
    <h2>{{currentPoll[0].text}}</h2>
    <h5>{{currentPoll[0].option1}}: {{currentPoll[0].option1Responses}}</h5>
    <hr>
    <h5>{{currentPoll[0].option2}}: {{currentPoll[0].option2Responses}}</h5>
    <hr>
    <h5>{{currentPoll[0].option3}}: {{currentPoll[0].option3Responses}}</h5>
    <hr>
    <h5>{{currentPoll[0].option4}}: {{currentPoll[0].option4Responses}}</h5>
    <hr>

    <button ng-click="endPoll()">End current poll</button>
  </div>

  </ion-content>
</ion-view>
